---
import { Footer } from "@jonsimeon/ui/astro";
import { MainLayout } from "@jonsimeon/ui/layouts";
import { Marquee, Section } from "@jonsimeon/ui/react";
import Nav from "#components/Nav";

// lib
import { noodleFullBody } from "@jonsimeon/lib/db";
import { env } from "@jonsimeon/lib/env";
const assets = env.PUBLIC_ASSETS;
const src = assets + "/" + noodleFullBody.id + "?key=small"

interface Props {
  title?: string;
  description?: string;
}

const {
  title = "My Portfolio",
  description = "Jon Simeon is a designer, illustrator, and programmer based in Massachusetts — this is his portfolio!",
} = Astro.props;
---

<MainLayout {title} {description}>
  <main>
    <Marquee
      client:visible
      repeat={10}
      speed={10}
      classes="bg-base-300 text-neutral py-1 fixed top-0 z-30"
    >
      <span>
        Jon Simeon is a designer, illustrator, and programmer based in
        Massachusetts &nbsp;•
      </span>
    </Marquee>
    <div class="flex justify-center md:py-10">
      <Nav />
      <Section
        aria-label="page content"
        classes="max-w-screen-lg 2xl:max-w-screen-xl min-h-[92vh]"
        innerClasses="md:pl-0"
        overrideOverflow={true}
      >
        <div class="flex flex-col gap-7 grow">
          <slot />
        </div>
      </Section>
    </div>
  </main>
  <Footer>
    <div
      class="absolute w-96 h-96 bottom-0 right-10"
      style={{
        backgroundImage: `url("${src}")`,
      }}
    >
    </div>
  </Footer>
</MainLayout>
